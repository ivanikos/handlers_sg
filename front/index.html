<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="shortcut icon" type="image/x-icon" href="photo_2022-11-28_14-53-06-round.png">

    <meta charset="UTF-8">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="main.css">
    <script type="text/javascript" src="/eel.js"></script>


    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
 	<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="./script.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>SG HANDLER</title>
    <style>
        body{
            background: #232946;
        }
        .header {
<!--        background: #006697;-->
        background: #fffffe;
        height: 100px;
        }
      h1{
        color: #007bbc;
        text-align: center;
        font-family: -apple-system, BlinkMacSystemFont, Roboto, Helvetica Neue, sans-serif;
        font-weight: lighter;
        padding-top: 30px;
      }
      h2{
        color: #b8c1ec;
        text-align: center;
        font-family: Helvetica, sans-serif;
        font-weight: lighter;

      }
      button{
        display: block;
        margin: 0 auto;
      }
      .form-label{
        color: #007bbc;
        margin-left: 10px;
       }
       .start_button {
       float: none;
       width: 100%;
        text-align: center;
        padding-top: 50px;
       }
       .img_logo {
       float: left;
       }
        .box {
        background-color: #1f2429;
        font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
        }
      #path_akt {
        padding: 10px;
        margin: 10px;
        background-color: #252e38;
        color: #fff;
        outline: 0;
        border: 0;
        border-bottom: 2px solid #2484f2;
        font-size: 1em;
        width: calc(100% - 20px);
        box-sizing:border-box;
        }
      .form-control {
            display: inline-block;
        }

        .test {
        font-size: 18px;
        color: #007bbc;
        text-align: center;
        font-family: Helvetica, sans-serif;
        font-weight: lighter;
       }

       .output_inf {
        float: none;
        width: 100%;
        text-align: center;
        font-size: 10px;
        padding-top: 25px;
       }

    </style>
</head>

<body>
<div class="header">
    <img src="atom_logo2.png" class="img_logo" align="left">
    <h1>  Сервис-Газификация</h1>
</div>



<div class="box" id="pathes">
        <form action="#">
            <label class="form-label">Введите путь куда сохранить сводку</label>
            <input type="text" id="path_akt" placeholder="Введите путь куда сохранить сводку"
                   value="C:\Users\IgnatenkoIA\Desktop\">
        </form>
</div>

<div class="start_button">

    <div>
        <button type="button" id="btn_create_summary" class="btn btn-outline-info">Сформировать сводку по ФАЗАМ 1, 2, 3.</button>
    </div>

    <div>
        <br>
        <button type="button" id="btn_create_sum_tracing" class="btn btn-outline-info">Сформировать сводку по теплоспутникам по ФАЗАМ 1, 2, 3.</button>
    </div>

    <div>
        <br>
        <button type="button" id="btn_create_nkdk" class="btn btn-outline-info">Сформировать сводку по % НК и дублирующему НК.</button>
    </div>

</div>

<div class="output_inf" id="aperture">
    <p class="test" id="test"></p>

</div>


</body>
</html>


<script>
        document.getElementById("btn_create_summary").onclick = function sendData() {
                $('#btn_create_summary').attr('disabled', true);
                $('#btn_create_sum_tracing').attr('disabled', true);
                $('#btn_create_nkdk').attr('disabled', true);

                document.getElementById("test").innerHTML = '<img src="aperture_150.gif">';

                let path_akt = document.querySelector("#path_akt").value;

                eel.start_handler(path_akt)((res) => {
                document.getElementById("test").innerHTML = res;

                $('#btn_create_summary').attr('disabled', false);
                $('#btn_create_sum_tracing').attr('disabled', false);
                $('#btn_create_nkdk').attr('disabled', false);
            })}

        document.getElementById("btn_create_sum_tracing").onclick = function sendDataTrace() {
                $('#btn_create_summary').attr('disabled', true);
                $('#btn_create_sum_tracing').attr('disabled', true);
                $('#btn_create_nkdk').attr('disabled', true);

                document.getElementById("test").innerHTML = '<img src="aperture_150.gif">';

                let path_akt = document.querySelector("#path_akt").value;

                eel.start_handler_tracing(path_akt)((res) => {
                document.getElementById("test").innerHTML = res;

                $('#btn_create_summary').attr('disabled', false);
                $('#btn_create_sum_tracing').attr('disabled', false);
                $('#btn_create_nkdk').attr('disabled', false);
            })}

        document.getElementById("btn_create_nkdk").onclick = function sendDataNK() {
                $('#btn_create_summary').attr('disabled', true);
                $('#btn_create_sum_tracing').attr('disabled', true);
                $('#btn_create_nkdk').attr('disabled', true);

                document.getElementById("test").innerHTML = '<img src="aperture_150.gif">';

                let path_akt = document.querySelector("#path_akt").value;

                eel.start_handler_nkdkd(path_akt)((res) => {
                document.getElementById("test").innerHTML = res;

                $('#btn_create_summary').attr('disabled', false);
                $('#btn_create_sum_tracing').attr('disabled', false);
                $('#btn_create_nkdk').attr('disabled', false);
            })}

</script>
